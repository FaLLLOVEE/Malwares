import os
import sys
import base64





# Codificar e Decodificar de base64
def EncB64(string):
	return (base64.b64encode(string)).decode("utf-8")

def DecB64(string):
	return base64.b64decode(string)

# Codificardor e Decodificador De Arquivos

def EncFileB64(root):
	contentEnc = ""
	with open(root, "rb") as file:
		contentEnc = file.read()
		contentEnc = EncB64(contentEnc)
	try:
		with open(root, "wb") as file:
			file.write(contentEnc.encode("utf-8"))
	except:
		print(f"Não obteve sucesso em encriptografa o arquivo:{root}")
def DecFileB64(root):
	contentEnc = ""
	contentDec = ""
	with open(root, "rb") as file:
		contentEnc = file.read()
		contentDec = DecB64(contentEnc)
	try:
		with open(root, "wb") as file:
			file.write(contentDec)
	except:
		print(f"Não obteve sucesso em encriptografa o arquivo:{root}")




print(f"Por motivos de segurança nunca digite a pasta principal do computado Ex:\n\t'c:' <-- Não e uma boa idea\n")
def Main():
	
	isdec = input("Encriptografar == Enc\nDecriptografar == Dec: ")
	op = input("Qual Pasta Devo Criptografar em ?: ")
	if op == "":
		os.system("cls")
		print(f"Por motivos de segurança nunca digite a pasta principal do computado blz ?{op}")
		Main()
	if os.path.exists(op) == True:
		print(f"Encript {op}")
		for root, dirs, files in os.walk(op, topdown = False):
			for f in files:
				print("\tEncriptografad: "+root+"\\"+f)
				if isdec.upper() == "DEC":
		  			DecFileB64(root+f"\\"+f)
				else:
					EncFileB64(root+f"\\"+f)
	else:
		os.system("cls")
		print("Essa pasta não existe nesse diretorio")
		Main()



while True:
	Main()
	pass

